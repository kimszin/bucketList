{"version":3,"sources":["logo.svg","BucketList.js","firebase.js","redux/modules/bucket.js","Detail.js","NotFound.js","Progress.js","Spinner.js","App.js","reportWebVitals.js","redux/configStore.js","index.js"],"names":["ListStyle","styled","div","_templateObject","_taggedTemplateLiteral","ItemStyle","_templateObject2","props","color","BucketList","bucket_list","useSelector","state","bucket","list","_jsx","children","map","index","completed","onClick","history","push","text","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","bucket_db","firestore","collection","InitialState","is_loaded","isLoaded","loaded","type","updateBucketFB","isComplete","dispatch","getState","bucket_data","old_bucket_data","_objectSpread","id","doc","update","then","docRef","updateBucket","catch","error","console","log","Detail","useDispatch","bucket_index","parseInt","match","params","_jsxs","ButtonGroup","Button","delete","deleteBucket","goBack","NotFound","ProgressBar","HighLight","width","Progress","count","l","idx","length","Outter","Spinner","Eco","style","fontSize","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","addBucketList","new_item","current","value","create","React","createRef","_createClass","key","this","load","_this2","className","Fragment","Container","Title","Line","Switch","Route","path","exact","render","component","Input","ref","marginRight","cursor","Component","h1","_templateObject3","hr","_templateObject4","connect","get","docs","forEach","exists","concat","_toConsumableArray","data","add","createBucket","addBucketFB","withRouter","reportWebVitals","onPerfEntry","Function","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","middlewares","createBrowserHistory","thunk","enhancer","applyMiddleware","apply","rootReducer","combineReducers","arguments","undefined","action","filter","store","createStore","ReactDOM","Provider","BrowserRouter","basename","document","getElementById"],"mappings":"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","file":"static/js/main.c223c993.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\n\r\nconst BucketList = (props) => {\r\n  const bucket_list = useSelector(state => state.bucket.list);\r\n\r\n  return (\r\n    <ListStyle>\r\n      {bucket_list.map((list, index) => {\r\n        return (\r\n          <ItemStyle \r\n            key={index} \r\n            color={list.completed? \"orange\":\"aliceblue\"}\r\n            onClick={() => {props.history.push('/detail/'+index+'/'+list.completed);}}>\r\n            {list.text}\r\n          </ItemStyle>\r\n        );\r\n      })}\r\n    </ListStyle>\r\n  );\r\n};\r\n\r\nconst ListStyle = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  `;\r\n  \r\n  const ItemStyle = styled.div`\r\n  padding: 16px;\r\n  margin: 8px;\r\n  background-color: ${props => props.color};\r\n  cursor:pointer;\r\n`;\r\n\r\nexport default BucketList;","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst firestore = firebase.firestore();\r\n\r\nexport { firestore };\r\n","// bucket.js\r\nimport { firestore } from \"../../firebase\";\r\n\r\nconst bucket_db = firestore.collection(\"bucket\");\r\n\r\n// Actions\r\nconst LOAD = \"bucket/LOAD\";\r\nconst CREATE = \"bucket/CREATE\";\r\nconst UPDATE = \"bucket/UPDATE\";\r\nconst UPDATE_CANCEL = \"bucket/UPDATE_CANCEL\";\r\nconst DELETE = \"bucket/DELETE\";\r\n\r\nconst LOADED = \"bucket/LOADED\";\r\n\r\n// InitialState\r\nconst InitialState = {\r\n  list: [\r\n    { text: \"영화관 가기\", completed: false },\r\n    { text: \"매일 책읽기\", completed: false },\r\n    { text: \"수영 배우기\", completed: false },\r\n  ],\r\n  is_loaded: false,\r\n};\r\n\r\n// Action Creators\r\nexport const loadBucket = (bucket) => {\r\n  return { type: LOAD, bucket };\r\n};\r\n\r\nexport const createBucket = (bucket) => {\r\n  return { type: CREATE, bucket };\r\n};\r\n\r\nexport const updateBucket = (bucket, isComplete) => {\r\n  if (isComplete === \"false\") {\r\n    return { type: UPDATE, bucket };\r\n  } else {\r\n    return { type: UPDATE_CANCEL, bucket };\r\n  }\r\n};\r\n\r\nexport const isLoaded = (loaded) => {\r\n  return { type: LOADED, loaded };\r\n};\r\n\r\nexport const deleteBucket = (bucket) => {\r\n  return { type: DELETE, bucket };\r\n};\r\n\r\n//\r\nexport const loadBucketFB = () => {\r\n  return function (dispatch) {\r\n    bucket_db.get().then((docs) => {\r\n      let bucket_data = [];\r\n\r\n      docs.forEach((doc) => {\r\n        if (doc.exists) {\r\n          bucket_data = [...bucket_data, { id: doc.id, ...doc.data() }];\r\n        }\r\n      });\r\n\r\n      dispatch(loadBucket(bucket_data));\r\n    });\r\n  };\r\n};\r\n\r\nexport const addBucketFB = (bucket) => {\r\n  return function (dispatch) {\r\n    let bucket_data = { text: bucket, completed: false };\r\n\r\n    dispatch(isLoaded(false));\r\n\r\n    bucket_db.add(bucket_data).then((docRef) => {\r\n      bucket_data = { ...bucket_data, id: docRef.id };\r\n      dispatch(createBucket(bucket_data));\r\n      dispatch(isLoaded(true));\r\n    });\r\n  };\r\n};\r\n\r\nexport const updateBucketFB = (bucket, isComplete) => {\r\n  return function (dispatch, getState) {\r\n    const old_bucket_data = getState().bucket.list[bucket];\r\n    let bucket_data;\r\n    if (isComplete === \"false\") {\r\n      bucket_data = { ...old_bucket_data, completed: true };\r\n    } else {\r\n      bucket_data = { ...old_bucket_data, completed: false };\r\n    }\r\n    // ↑ 전체 내용이 아닌 completed만 넘겨줘도 된다.\r\n\r\n    if (!bucket_data.id) {\r\n      return;\r\n    }\r\n    dispatch(isLoaded(false));\r\n\r\n    bucket_db\r\n      .doc(bucket_data.id)\r\n      .update(bucket_data)\r\n      .then((docRef) => {\r\n        dispatch(updateBucket(bucket, isComplete));\r\n        dispatch(isLoaded(true));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const deleteBucketFB = (bucket) => {\r\n  return function (dispatch, getState) {\r\n    const old_bucket_data = getState().bucket.list[bucket];\r\n\r\n    if (!old_bucket_data.id) {\r\n      return;\r\n    }\r\n    dispatch(isLoaded(false));\r\n\r\n    bucket_db\r\n      .doc(old_bucket_data.id)\r\n      .delete()\r\n      .then((docRef) => {\r\n        dispatch(deleteBucket(bucket));\r\n        dispatch(isLoaded(true));\r\n      })\r\n      .catch((error) => {\r\n        // delete 요청이 실패했으면(삭제가 안됬으면) then이 아니라 catch로 빠짐\r\n        // 혹은 then 안에서 고의적으로 에러를 내도 catch로 빠진다.\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\n// Reducer\r\nexport default function reducer(state = InitialState, action = {}) {\r\n  switch (action.type) {\r\n    // do reducer stuff\r\n    case \"bucket/LOAD\": {\r\n      if (action.bucket.length > 0) {\r\n        return { list: action.bucket, is_loaded: true };\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case \"bucket/CREATE\": {\r\n      const new_bucket_list = [...state.list, action.bucket];\r\n      return { list: new_bucket_list };\r\n    }\r\n\r\n    case \"bucket/UPDATE\": {\r\n      const bucket_list = state.list.map((l, idx) => {\r\n        if (idx === action.bucket) {\r\n          return { ...l, completed: true };\r\n        } else {\r\n          return l;\r\n        }\r\n      });\r\n      return { list: bucket_list };\r\n    }\r\n\r\n    case \"bucket/UPDATE_CANCEL\": {\r\n      const bucket_list = state.list.map((l, idx) => {\r\n        if (idx === action.bucket) {\r\n          return { ...l, completed: false };\r\n        } else {\r\n          return l;\r\n        }\r\n      });\r\n      return { list: bucket_list };\r\n    }\r\n\r\n    case \"bucket/DELETE\": {\r\n      const bucket_list = state.list.filter((l, idx) => {\r\n        if (idx !== action.bucket) {\r\n          return l;\r\n        }\r\n      });\r\n      return { list: bucket_list };\r\n    }\r\n\r\n    case \"bucket/LOADED\": {\r\n      return { ...state, is_loaded: action.loaded };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\n//import {Button} from \"@material-ui/core\"; 머테리얼 ui 가져오는 방법 두가지 있다.\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { deleteBucketFB, updateBucketFB } from \"./redux/modules/bucket\";\r\n\r\nconst Detail = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const bucket_list = useSelector((state) => state.bucket.list);\r\n  let bucket_index = parseInt(props.match.params.index);\r\n  let completed = props.match.params.completed;\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        {bucket_list[bucket_index].text}(\r\n        {completed === \"false\" ? \"미완료\" : \"완료\"})\r\n      </h1>\r\n      <ButtonGroup>\r\n        <Button\r\n          //style={{color: \"red\"}}\r\n          color=\"secondary\"\r\n          onClick={() => {\r\n            dispatch(deleteBucketFB(bucket_index));\r\n            props.history.goBack();\r\n          }}\r\n        >\r\n          삭제하기\r\n        </Button>\r\n        {completed === \"false\" ? (\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              dispatch(updateBucketFB(bucket_index, completed));\r\n              props.history.goBack();\r\n            }}\r\n          >\r\n            완료하기\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              dispatch(updateBucketFB(bucket_index, completed));\r\n              props.history.goBack();\r\n            }}\r\n          >\r\n            완료 취소하기\r\n          </Button>\r\n        )}\r\n        <Button\r\n          onClick={() => {\r\n            props.history.goBack();\r\n          }}\r\n        >\r\n          목록\r\n        </Button>\r\n      </ButtonGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Detail;\r\n","import React from \"react\";\r\n\r\nconst NotFound = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>주소가 올바르지 않아요!</h1>\r\n      <button\r\n        onClick={() => {\r\n          props.history.goBack();\r\n        }}\r\n      >\r\n        뒤로가기\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst Progress = (props) => {\r\n    const bucket_list = useSelector(state => state.bucket.list);\r\n    let count = 0;\r\n\r\n    bucket_list.map((l, idx) => {\r\n        if(l.completed){\r\n            count++;\r\n        }\r\n    })\r\n\r\n    return (\r\n        <ProgressBar>\r\n            <HighLight width={(count/bucket_list.length)*100 + \"%\"}/>\r\n        </ProgressBar>\r\n    );\r\n}\r\n\r\nconst ProgressBar = styled.div`\r\n    background: #eee;\r\n    width: 100%;\r\n    height: 40px;\r\n`;\r\n\r\nconst HighLight = styled.div`\r\n    background: orange;\r\n    height: 40px;\r\n    width: ${props => props.width};\r\n    transition-property: width;\r\n    transition-duration: 4s; \r\n    transition-delay: 4s;\r\n`;\r\n\r\nexport default Progress;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Eco} from \"@material-ui/icons\";\r\n\r\nconst Spinner = (props) => {\r\n    return (\r\n        <Outter>\r\n            <Eco style={{fontSize: \"150px\", color: \"#673ab7\"}}/>\r\n        </Outter>\r\n    )\r\n}\r\n\r\n// vw, vh : 디바이스 전체\r\nconst Outter = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw; \r\n    height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #ede2ff;\r\n`;\r\n\r\nexport default Spinner;","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport BucketList from \"./BucketList\";\nimport styled from \"styled-components\";\n\nimport {withRouter} from \"react-router\";\nimport {Route, Switch} from \"react-router-dom\";\nimport Detail from \"./Detail\";\nimport NotFound from \"./NotFound\";\nimport Progress from \"./Progress\";\n\nimport Spinner from \"./Spinner\";\n\nimport {connect} from \"react-redux\";\nimport {loadBucket, createBucket, loadBucketFB, addBucketFB} from \"./redux/modules/bucket\";\n\nimport { firestore } from \"./firebase\";\n\nconst mapStateToProps = (state) => {\n return {\n   bucket_list: state.bucket.list,\n   is_loaded: state.bucket.is_loaded\n  }; \n}\n// 함수 선언하는 방법 두가지. mapStateToProps도 있고 mapDispatchToProps도 있다.\nconst mapDispatchToProps = (dispatch) => ({\n    load: () => {\n      dispatch(loadBucketFB());\n    },\n    create: (bucket) => {\n      dispatch(addBucketFB(bucket));\n    }\n})\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n\n    this.text = React.createRef();\n  }\n\n  addBucketList = () => {\n    const new_item = this.text.current.value;\n    this.props.create(new_item);\n  }\n\n  componentDidMount(){\n    this.props.load();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.props.is_loaded? (<Spinner/>) : (\n          <React.Fragment>\n            <Container>\n              <Title >내 버킷리스트</Title>\n              <Progress/>\n              <Line/>\n              <Switch>\n                <Route \n                  path=\"/\" \n                  exact \n                  render={(props) =>\n                    <BucketList \n                      history={this.props.history} \n                      list={this.props.bucket_list} \n                    />\n                  }\n                />\n                <Route path=\"/detail/:index/:completed\" component={Detail}/>\n                <Route render={(props) => (<NotFound history={props.history}/>)}/>\n              </Switch>\n            </Container>\n\n            <Input>\n              <input type=\"text\" ref={this.text} style={{marginRight:'7px'}}/>\n              <button onClick={this.addBucketList} style={{cursor:'pointer'}}>추가하기</button>\n            </Input>\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nconst Input = styled.div`\n  max-width: 350px;\n  min-height: 1vh;\n  background-color: #fff;\n  padding: 16px;\n  margin: 20px auto;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n`;\n\nconst Container = styled.div`\n  max-width: 350px;\n  min-height: 80vh;\n  background-color: #fff;\n  padding: 16px;\n  margin: 20px auto;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n`;\n\nconst Title = styled.h1`\n  color: slateblue;\n  text-align: center;\n`;\n\nconst Line = styled.hr`\n  margin: 16px 0px;\n  border: 1px dotted #ddd;\n`;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createStore, combineReducers, applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport bucket from \"./modules/bucket\";\r\nimport {createBrowserHistory} from \"history\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst middlewares = [thunk];\r\n\r\nconst enhancer = applyMiddleware(...middlewares);\r\nconst rootReducer = combineReducers({bucket});\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/configStore\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename=\"/bucketList\">\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}